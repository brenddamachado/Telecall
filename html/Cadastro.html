<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Telecall</title>
  
  <!-- NOSSO CSS -->
  <link href="../css/style.css" rel="stylesheet" type="text/css">
  <!-- NOSSO CSS -->
  <!--  icone do lado do title -->
  <link rel="icon" type="image/x-icon" href="../imgs/telecall_logo1.png">
  <!--  icone do lado do title -->

  <!--  icone das redes sociais footer -->

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!--  icone das redes sociais footer -->

  <!-- boot css-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <!-- boot css-->

  <!-- boot javascrit-->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
  <!-- boot javascrit-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.min.js"></script>

</head>

<body>

  <header>
    <nav>
      <div class="logo-e-nome">
        <img src="../imgs/telecall_logo1.png" class="logo" alt="telecall">
        <h1 class="nome-empresa">Telecall</h1>
      </div>
      <div class="login-cadastro-container">
        <ul class="containe">
          <li class="nav"> <a href="../index.html" class="guia">Inicio</a> </li>
          <li class="nav"> <a href="Login.html" class="guia">Login</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <div id="login-container">
    

    <form class="form_login" action="#" method="post">
     
      
      <label class="label_login" for="nome" id="labelNome"> Nome:</label>
      <input class="input_login" type="text" id="nome" name="nome">

      <label for="nasc" class="label_login"> Data de nascimento: </label>
      <input class="input_login" type="date" id="nasc" name="nasc">

      <label for="sexo" class="label_login"> Genêro:</label>
      <input type="radio" id="m" name="genero" value="masculino">
      <label for="m">Masculino</label>
      <input type="radio" id="f" name="genero" value="feminino">
      <label for="f"> Feminino</label>
      <input type="radio" id="outro" name="genero" value="outro">
      <label for="outro">Outro</label>

      <label class="label_login" for="name" id="labelMae">Nome da mãe:</label>
      <input type="text" id="Nomematerno" name="mae" class="input_login" placeholder="Digite o nome da sua mãe">
      <label for="cpf" id='labelCpf' class="label_login">CPF:</label>
      <input class="input_login" type="text" id="cpf" name="cpf" maxlength="11" placeholder="Digite seu cpf" />

      <label for="tel" class="label_login" id="labelTel"> Telefone Fixo:</label>
      <input class="input_login" type="tel" maxlength="12" id='tel' name="tel" placeholder="Digite seu número com o DD">

      <label for="cel" class="label_login" id='labelCel'> Telefone Celular:</label>
      <input class="input_login" type="tel" id="numeroCelular" name="numeroCelular" placeholder="(xx) xxxxx-xxxx"
        maxlength="14">


      <label class="label_login" for="ende" class="form" id="labelCep"> Cep:</label>
      <input class="input_login" type='text' maxlength="9" id='cep' name='cep' placeholder="Digite seu cep">

      <label class="label_login" for="ende" class="form" id="labelCidade"> Cidade:</label>
      <input class="input_login" type='text' id='cid' name='cidade' placeholder="Digite sua cidade">

      <label id="labelRua" for="ende" class="label_login"> Rua:</label>
      <input class="input_login" type="text" id='rua' name="rua" placeholder="Digite sua rua">

      <label id="labelBairro" for="ende" class="label_login"> Bairro:</label>
      <input class="input_login" type="text" id='bairro' name="bairro" placeholder="Digite seu bairro">

      <label id="labelN" for="ende" class="label_login"> Nº:</label>
      <input class="input_login" type='number' id='n' name='numero' placeholder="Digite o número da casa">

      <label for="ende" class="label_login"> Complemento:</label>
      <input class="input_login" type="text" id='ende' name="complemento" placeholder="Digite o complemento">

      <label class="label_login" id="labelLogin" for="login" class="form">Login:</label>
      <input class="input_login" type='text' id='login' name='login' placeholder="Digite um login" max="6">

      <label class="label_login" id="labelEmail" for="login" class="form"> E-mail:</label>
      <input class="input_login" type="email" id="email" name="email" placeholder="Digite um e-mail" >


      <label class="label_login" id="labelSenha" for="senha" class="form"> Senha:</label>
      <input class="input_login" type="password" id="senha" name="senha" placeholder="Digite sua senha" max="8"
        autocomplete="new-password">


      <label class="label_login" id="labelConfirmacao" for="senha2" class="form"> Confirmação de Senha:</label>
      <input class="input_login" type="password" id="senha2" name="senha2" placeholder="Digite sua senha" max="8"
        autocomplete="new-password">
      <i class="fa-regular fa-eye"></i>



<input type="submit"  onclick='cadastrar()' class="input_login">

    </form>

    <div id="register-container">
      <p class="p_login">Já tem uma conta?</p>
      <a class="a_login" href="../html/Login.html">Entrar</a>
    </div>
  </div>

  <footer>
    <div class="footer_tudo">
      <div id="footer_content">
        <div id="footer_contacts">

          <h3>Redes Sociais</h3>



          <div id="footer_social_media">
            <a href="https://api.whatsapp.com/send?phone=552130301010&text=%23Comercial" class="footer-link" id="wpp">
              <i class="fa-brands fa-whatsapp"></i>
            </a>

            <a href="https://www.instagram.com/telecallbr/" class="footer-link" id="instagram">
              <i class="fa-brands fa-instagram"></i>
            </a>

            <a href="https://www.facebook.com/TelecallBr/?locale=pt_BR" class="footer-link" id="facebook">
              <i class="fa-brands fa-facebook"></i>
            </a>


            <!--removi o do twitter-->

          </div>
        </div>

        <ul class="footer-list">
          <li>
            <h3>Internet</h3>
          </li>
          <li>
            <a href="#"> Internet dedicada </a>
          </li>
          <li>
            <a href="#"> Banda larga </a>
          </li>
          <li>
            <a href="#"> wifi </a>
          </li>
        </ul>

        <ul class="footer-list">
          <li>
            <h3>Rede e infraestrutura</h3>
          </li>
          <li>
            <a href="#"> Fibra apagada e dutos </a>
          </li>
          <li>
            <a href="#"> Ponto-a-ponto </a>
          </li>
          <li>
            <a href="#"> mpls </a>
          </li>
        </ul>

        <div id="footer_subscribe">
          <h3>Subscribe</h3>

          <p>
            Digite seu e-mail e fique por dentro das novidades
          </p>

          <div id="input_group">
            <input class="input_email" type="email" id="email">
            <button>
              <i class="fa-regular fa-envelope"></i>
            </button>
          </div>
        </div>
      </div>

      <div id="footer_copyright">
        &#169
        2023 all rights reserved
      </div>
    </div>
  </footer>
  <script>
    let btn = document.querySelector('.fa-eye');
    let btn2 = document.querySelector('.fa-eye');

    let labelNome = document.querySelector('#labelNome');
    let nome = document.querySelector('#nome');
    let validenome = false;

    let labelSenha = document.querySelector('#labelSenha');
    let senha = document.querySelector('#senha');
    let letvalidesenha = false;

    let labelConfirmacao = document.querySelector('#labelConfirmacao');
    let senha2 = document.querySelector('#senha2');
    let validesenha2 = false;

    let mae = document.querySelector('#Nomematerno');
    let labelMae = document.querySelector('#labelMae');
    let validemae = false;

    let labelTel = document.querySelector('#labelTel');
    let tel = document.querySelector('#tel');

    let login = document.querySelector('#login');
    let labelLogin = document.querySelector('#labelLogin');
    let validelogin = false;

    let labelCpf = document.querySelector('#labelCpf');
    let validecpf=false;

    const cepInput = $("#cep");
    const labelCep = $("#labelCep");
    let validecep = false;

    const labelCidade = $("#labelCidade");
    const cidadeInput = $("#cid");

    const ruaInput = $("#rua");
    const labelRua = $("#labelRua");

    const bairroInput = $("#bairro");
    const labelBairro = $("#labelBairro");

    const emailInput = document.getElementById('email');
    const labelEmail = document.getElementById('labelEmail');
    let valideemail = false;


    
    nome.addEventListener('input', () => {
      // Remove caracteres que não são letras ou espaços
      nome.value = nome.value.replace(/[^a-zA-Z\s]/g, '');

      if (nome.value.length >= 15 && nome.value.length < 60) {
        labelNome.setAttribute('style', 'color: green');
        labelNome.innerHTML = 'Nome';
        validenome = true;
      } else {
        labelNome.setAttribute('style', 'color: red');
        labelNome.innerHTML = 'Nome *insira no mínimo 15 caracteres';
        validenome = false;
      }
    });


    senha.addEventListener('input', () => {
        senha.value = senha.value.replace(/[^a-zA-Z]/g, ''); // Remove caracteres não alfabéticos

        if (senha.value.length < 8) {
            labelSenha.setAttribute('style', 'color: red');
            labelSenha.innerHTML = 'Senha *Insira no mínimo 8 caracteres';
            validesenha = false;
        } else {
            labelSenha.setAttribute('style', 'color: green');
            labelSenha.innerHTML = 'Senha';
            validesenha = true;
        }
    });

    senha2.addEventListener('input', () => {
        senha2.value = senha2.value.replace(/[^a-zA-Z]/g, ''); // Remove caracteres não alfabéticos

        if (senha.value !== senha2.value) {
            labelConfirmacao.setAttribute('style', 'color: red');
            labelConfirmacao.innerHTML = 'Confirmação de Senha *As senhas não conferem';
            validesenha2 = false;
        } else {
            labelConfirmacao.setAttribute('style', 'color: green');
            labelConfirmacao.innerHTML = 'Confirmação de Senha';
            validesenha2 = true;
        }
    });


    mae.addEventListener('input', () => {
        mae.value = mae.value.replace(/\d/g, ''); // Remove números
        nome.value = nome.value.replace(/[^a-zA-Z\s]/g, ''); // Remove caracteres não alfabéticos
        if (mae.value.length >= 15 && nome.value.length < 60) {
            labelMae.setAttribute('style', 'color: green');
            labelMae.innerHTML = 'Nome da mãe';
            validemae = true;
        } else {
            labelMae.setAttribute('style', 'color: red');
            labelMae.innerHTML = 'Nome da mãe *insira no mínimo 15 caracteres';
            validemae = false;
        }
    });


    function validarCPF(cpf) {
      // Verificar se o CPF tem 11 dígitos
      if (cpf.length !== 11) {
        return false;
      }

      // Verificar se todos os dígitos são iguais (CPF inválido)
      if (/^(\d)\1{10}$/.test(cpf)) {
        return false;
      }

      // Calcula o primeiro dígito verificador
      let sum = 0;
      for (let i = 0; i < 9; i++) {
        sum += parseInt(cpf.charAt(i)) * (10 - i);
      }
      let mod = sum % 11;
      let digit1 = mod < 2 ? 0 : 11 - mod;

      // Calcula o segundo dígito verificador
      sum = 0;
      for (let i = 0; i < 10; i++) {
        sum += parseInt(cpf.charAt(i)) * (11 - i);
      }
      mod = sum % 11;
      let digit2 = mod < 2 ? 0 : 11 - mod;

      // Verifica se os dígitos verificadores são válidos
      if (parseInt(cpf.charAt(9)) !== digit1 || parseInt(cpf.charAt(10)) !== digit2) {
        return false;
      }

      // Se todas as verificações passaram, o CPF é válido, então formatamos
      return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
    }

    cpf.addEventListener('input', () => {
        // Remove todos os caracteres não numéricos
        cpf.value = cpf.value.replace(/\D/g, '');

        const isCPFValid = validarCPF(cpf.value);

        if (isCPFValid) {
            labelCpf.setAttribute('style', 'color: green');
            labelCpf.innerHTML = 'CPF válido';
            cpf.value = isCPFValid; // Define o valor da entrada como o CPF formatado
            validecpf = true;
        } else {
            labelCpf.setAttribute('style', 'color: red');
            labelCpf.innerHTML = 'CPF inválido';
            validecpf = false;
        }
    });


    $(document).ready(function () {
      //Telefone
      $("#tel").mask("(99) 9999-9999");

      //celular
      $("#numeroCelular").mask("(99) 99999-9999");
    });




    emailInput.addEventListener('input', function () {
      const email = emailInput.value;
      validarEmail(email);
    });
    function validarEmail(email) {
      // Expressão regular para validar o formato do e-mail
      var regex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;

      if (regex.test(email)) {
        labelEmail.style.color = 'green'; // E-mail válido, cor verde
        labelEmail.innerHTML = 'E-mail válido';
        valideemail = true;

      } else {
        labelEmail.style.color = 'red'; // E-mail inválido, cor vermelha
        labelEmail.innerHTML = 'E-mail inválido';
        valideemail = false;

      }
    }






    cepInput.on("input", function () {
      let cep = cepInput.val().replace(/\D/g, "").slice(0, 8);
      cepInput.val(cep);

      cidadeInput.val("");
      ruaInput.val("");
      bairroInput.val("");

      labelRua.css("color", ""); // Remover a cor da rua
      labelCidade.css("color", ""); // Remover a cor da cidade
      labelBairro.css("color", ""); // Remover a cor do bairro

      if (cep.length === 0) {
        labelCep.css("color", ""); // Remover a cor
        labelCep.html("CEP");
      } else {
        validarCep(cep);
      }
    });


    function validarCep(cep) {
      var regex = /^[0-9]{8}$/;

      if (regex.test(cep)) {
        labelCep.css("color", "green");
        labelCep.html('CEP válido');
        validecep = true;

      } else {
        labelCep.css("color", "red");
        labelCep.html('CEP inválido');
        validecep = false;

      }

      const url = `https://viacep.com.br/ws/${cep}/json/`;

      if (cep.length === 8) {
        fetch(url)
          .then((response) => {
            if (!response.ok) {
              labelCep.css("color", "red");
              throw new Error('Não foi possível obter os dados do CEP.');
            }
            return response.json();
          })
          .then((data) => {
            if (data.erro) {
              labelCep.css("color", "red");
              throw new Error('CEP não encontrado.');
            } else {
              labelCep.css("color", "green");
              labelRua.css("color", "green");
              labelCidade.css("color", "green");
              labelBairro.css("color", "green");
            }

            cidadeInput.val(data.localidade);
            ruaInput.val(data.logradouro);
            bairroInput.val(data.bairro);
          })
          .catch((error) => {
            console.error(error);
          });
      }
    }


    function cadastrar() {
      if (validenome && validesenha && validesenha2 && validecep && validecpf && valideemail && validemae) {
  alert("Vamos analisar seus dados e logo entraremos em contato com você.");
      } else {
      alert('Dados incorretos, preencha corretamente.');
      }
    }


    btn.addEventListener('click', () => {
      let inputSenha = document.querySelector('#senha')
      if (inputSenha.getAttribute('type') == 'password') {
        inputSenha.setAttribute('type', 'text')
      } else {
        inputSenha.setAttribute('type', 'password')
      }
    })

    btn2.addEventListener('click', () => {
      let inputSenha = document.querySelector('#senha2')
      if (inputSenha.getAttribute('type') == 'password') {
        inputSenha.setAttribute('type', 'text')
      } else {
        inputSenha.setAttribute('type', 'password')
      }
    });



  </script>

</body>

</html>